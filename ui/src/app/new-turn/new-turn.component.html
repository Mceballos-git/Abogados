<div class="container p-2 mb-2 mt-3 border border-info col-md-6 bg-info">
  <h4>Nuevo turno</h4>
</div>
<div class="container mt-3 col-md-6 ">
  <div class="mb-2">
    <strong>Fecha:</strong>
  </div>
    <form [formGroup]="turnForm" (ngSubmit)="createTurn()">
        <div class="form-row">
            <div class="form-group col-md-6">
                <label>Hora comienzo</label>
                <input type="text" class="form-control"
                formControlName="turn_time_start">                
            </div>
          
            <div class="form-group col-md-6">
              <label>Hora Fin</label>
              <input type="text" class="form-control"
              formControlName="turn_time_end">
            </div>

            <div class="form-group col-md-6">
                <label>CLiente</label>
                <input type="text" class="form-control" 
                    formControlName="client_id"
                    [ngClass]="{'border border-danger': !turnForm.get('client_id').valid && turnForm.get('client_id').touched}">
                <div class="form-group text-danger"
                    *ngIf="turnForm.get('client_id').hasError('required') && turnForm.get('client_id').touched">
                   Debe seleccionar un cliente
                </div>
            </div>

            <div class="form-group col-md-6">
                <label>Oficina</label>
                <select class="form-control" formControlName="office_id">      
                <option *ngFor="let id of id_types" [value]="id">{{id}}</option>
                </select>
            </div>

            <div class="form-group col-md-6">
                <label>Turno dado por:</label>
                <select class="form-control" formControlName="attention_user_id">      
                <option *ngFor="let id of id_types" [value]="id">{{id}}</option>
                </select>
            </div>

            <div class="form-group col-md-6">
                <label>Turno atendido por:</label>
                <select class="form-control" formControlName="office_id">      
                <option *ngFor="let id of id_types" [value]="id">{{id}}</option>
                </select>
            </div>

            
        </div>
        <div class="form-row">
            <div class="form-group col-md-6"> 
                <label class="example-input-wrapper">
                  Telefono de referencia
                </label>                
                <input class="form-control"
                    type="text"
                    formControlName="phone_number_ref"                   
                    [ngClass]="{'border border-danger': !turnForm.get('phone_number_ref').valid && turnForm.get('phone_number_ref').touched}">                    
                <div class="form-group text-danger"
                    *ngIf="turnForm.get('phone_number_ref').hasError('required') && turnForm.get('phone_number_ref').touched">
                    Telefono de referencia requerido
                </div>                
            </div>
             <div class="form-group col-md-6">
                <label>Prioridad</label>
                <select class="form-control" formControlName="priority"
                    [ngClass]="{'border border-danger': !turnForm.get('priority').valid && turnForm.get('priority').touched}">      
                <option *ngFor="let id of priority" [value]="id">{{id}}</option>
                </select>
            </div>
        </div>
        <div class="form-row">
             

            <div class="form-group col-md-12">
                <label>Comentarios</label>
                <textarea class="form-control" formControlName="comments" rows="5"></textarea>             
            </div>

        </div>

        <div class="d-flex justify-content-end mt-2">
            <!--<button type="submit" class="btn btn-outline-info mr-2" [disabled]="turnForm.invalid">Guardar</button>-->
            <button type="submit" class="btn btn-outline-info mr-2">Guardar</button>
            <button type="submit" class="btn btn-outline-dark" [routerLink]="['/turns']">Cancelar</button>
        </div>
    </form>
</div>