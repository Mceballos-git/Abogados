<div class="container p-2 mb-2 mt-3 border border-info col-md-6 bg-info">
  <h4>Editar turno</h4>
</div>
<div class="container mt-3 col-md-6 ">
  <div class="mb-2">
    <strong>Fecha:</strong>
  </div>
    <form [formGroup]="turnForm" (ngSubmit)="editTurn()">
        <div class="form-row">
            <div class="form-group col-md-6">
                <label>Hora comienzo</label>
                <input type="text" class="form-control"
                formControlName="turn_time_start">                
            </div>
          
            <div class="form-group col-md-6">
              <label>Hora Fin</label>
              <input type="text" class="form-control"
              formControlName="turn_time_end">
            </div>

            <div class="form-group col-md-6">
                <label>CLiente</label>
                <input type="text" class="form-control" 
                    formControlName="client_id"
                    [ngClass]="{'border border-danger': !turnForm.get('client_id').valid && turnForm.get('client_id').touched}">
                <div class="form-group text-danger"
                    *ngIf="turnForm.get('client_id').hasError('required') && turnForm.get('client_id').touched">
                    Debe seleccionar un cliente
                </div>
            </div>

            <div class="form-group col-md-6">
                <label>Oficina</label>
                <select class="form-control" formControlName="office_id">      
                <option *ngFor="let id of id_types" [value]="id">{{id}}</option>
                </select>
            </div>

            <div class="form-group col-md-6">
                <label>Turno dado por:</label>
                <select class="form-control" formControlName="attention_user_id">      
                <option *ngFor="let id of id_types" [value]="id">{{id}}</option>
                </select>
            </div>

            <div class="form-group col-md-6">
                <label>Turno atendido por:</label>
                <select class="form-control" formControlName="office_id">      
                <option *ngFor="let id of id_types" [value]="id">{{id}}</option>
                </select>
            </div>

            
        </div>
        <div class="form-row">
            <div class="form-group col-md-6"> 
                <label class="example-input-wrapper">
                  Telefono de referencia
                </label>                
                <input class="form-control"
                    type="text"
                    formControlName="phone_number_ref"                   
                    [ngClass]="{'border border-danger': !turnForm.get('phone_number_ref').valid && turnForm.get('phone_number_ref').touched}">                    
                <div class="form-group text-danger"
                    *ngIf="turnForm.get('phone_number_ref').hasError('required') && turnForm.get('phone_number_ref').touched">
                    Telefono de referencia requerido
                </div>                
            </div>
              <div class="form-group col-md-6">
                <label>Prioridad</label>
                <select class="form-control" formControlName="priority"
                    [ngClass]="{'border border-danger': !turnForm.get('priority').valid && turnForm.get('priority').touched}">      
                <option *ngFor="let id of priority" [value]="id">{{id}}</option>
                </select>
            </div>
        </div>
        <div class="form-row">
              

            <div class="form-group col-md-12">
                <label>Comentarios</label>
                <textarea class="form-control" formControlName="comments" rows="5"></textarea>             
            </div>

        </div>

        <div class="d-flex justify-content-end mt-2">
            <!--<button type="submit" class="btn btn-outline-info mr-2" [disabled]="turnForm.invalid">Guardar</button>-->
            <button type="submit" class="btn btn-outline-info mr-2">Guardar</button>
            <button type="submit" class="btn btn-outline-dark" [routerLink]="['/turns']">Cancelar</button>
            <button  type="button"
                  class="btn btn-info" 
                  data-toggle="modal" 
                  data-target="#deleteModal">Borrar</button>
                  <!--programar event click de este boton-->
        </div>
    </form>
</div>

<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Turno</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Esta seguro que desea eliminar el turno seleccionado?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="delete()" data-dismiss="modal">Aceptar</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
      </div>
    </div>
  </div>
</div>